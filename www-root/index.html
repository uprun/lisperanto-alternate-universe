<script src="knockout/knockout-latest.debug.js"></script>
<script>
    LisperantoViewModel = {};
</script>
<script>
    LisperantoViewModel.number = function()
    {
        var self = this;
        self.type = "number";
        self.number = ko.observable(11);
    };
</script>
<script>
    LisperantoViewModel.string = function()
    {
        var self = this;
        self.type = "string";
        self.string = ko.observable("example");
    };
</script>
<script>
    LisperantoViewModel.arrayList = function()
    {
        var self = this;
        self.type = "arrayList";
        self.arrayList = ko.observableArray([["+"], 1, 1, 2, 3]);
        self.addArray = function()
        {
            self.arrayList.push(new LisperantoViewModel.arrayList());
        };
        self.addNumber = function()
        {
            self.arrayList.push(new LisperantoViewModel.number());
        };
        self.addString = function()
        {
            self.arrayList.push(new LisperantoViewModel.string())
        };
    };
    LisperantoViewModel.function_call_example = new LisperantoViewModel.arrayList();
</script>

<script type="text/html" id="template-number">
    <div>
        <span>number:</span>&nbsp;<span data-bind="text: $data.number"></span>
    </div>
    
</script>

<script type="text/html" id="template-string">
    <div>
        <span>string:</span>&nbsp;<span data-bind="text: $data.string"></span>
    </div>
</script>

<style>
    button {
        background-color: inherit;
        border-color: coral;
        color: teal;
    }
    .Lisperanto-arrayList {
        margin-left: 1rem; 
        border-width: 0px 0px 0px 0.15rem; 
        border-radius: 0.2rem;
        border-left-color: beige; 
        border-style: dashed;
        margin-top: 0.5rem;
        margin-bottom: 0.5rem;
        padding-left: 0.2rem;
    }
</style>

<script type="text/html" id="template-arrayList">
    <div class="Lisperanto-arrayList" style="">
        <div>arrayList:</div>
        <!-- ko foreach: $data.arrayList -->
        <!-- ko if: $data.type == 'arrayList'-->
            <!-- ko template: { name: 'template-arrayList', data: $data }  -->
            <!-- /ko -->
        <!-- /ko -->
        <!-- ko if: $data.type == 'number'-->
            <!-- ko template: { name: 'template-number', data: $data }  -->
            <!-- /ko -->
        <!-- /ko -->
         <!-- ko if: $data.type == 'string'-->
            <!-- ko template: { name: 'template-string', data: $data }  -->
            <!-- /ko -->
        <!-- /ko -->
        <!-- /ko-->
        <div>
            <h3>toolbox</h3>
            <button data-bind="click: $data.addArray">array</button>
            <button data-bind="click: $data.addNumber">number</button>
            <button data-bind="click: $data.addString">string</button>
            <button>object</button>

        </div>

    </div>
    
</script>
<script>
    function init() {
        console.log("init")
        ko.applyBindings(LisperantoViewModel);
    }
</script>
<body onload="init()" style="background-color: black; color: yellow;">
    <h3>function call</h3>
    
    <!-- ko template: { name: 'template-arrayList', data: $root.function_call_example }  -->
    <!-- /ko -->

</body>
